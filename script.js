const translations = {
  fr: {
    nav_home: "Accueil",
    nav_about: "À propos",
    nav_team: "Équipe",
    nav_activities: "Activités",
    nav_contact: "Contact",
    login_btn: "Connexion",
    hero_title: "Bienvenue au Club Physique Tech",
    hero_description: "Rejoignez une élite d’esprits visionnaires, dans un espace scientifique où la passion pour la physique et la technologie embrasse l’esprit de recherche et de découverte au sein d’un environnement académique d’exception.",
    hero_cta: "Découvrir notre club",
    about_title: "À propos de nous",
    mission_title: "Notre Mission",
    mission_text: "Encourager la curiosité scientifique et l’exploration active dans les domaines de la physique et de la technologie à travers des ateliers pratiques, des conférences enrichissantes et des projets collaboratifs innovants.",
    vision_title: "Notre Vision",
    vision_text: "Faire du club un centre d’excellence et d’innovation où chaque passionné de physique et de technologie peut grandir, apprendre et contribuer à la communauté scientifique.",
    values_title: "Nos Valeurs",
    values_text: "Engagement, créativité, esprit d’équipe, rigueur scientifique et partage des connaissances sont les fondements qui définissent notre identité et guident chacune de nos actions.",
    team_title: "Notre Équipe",
    member1_name: "Dr. Majid Rochdi",
    member1_role: "Président",
    member1_bio: "Docteur en Physique Quantique, passionné par la recherche en nanotechnologies et l'enseignement scientifique.",
    member2_name: "Jalal El Yandouzi",
    member2_role: "Vice-Président",
    member2_bio: "Étudiant en génie électrique et énergies renouvelables. Il contribue à l’organisation des activités du club, coordonne l’équipe et soutient les missions de la présidence.",
    member3_name: "Mohammed El Yaaoti",
    member3_role: "Secrétaire Général",
    member3_bio: "Étudiant en génie électrique et énergies renouvelables. Chargé de la gestion administrative du club, il assure la coordination interne pour un fonctionnement fluide.",
    member4_name: "Khadija El Abbadi",
    member4_role: "Responsable Communication",
    member4_bio: "Étudiante en génie électrique et énergies renouvelables. Elle gère la communication et les relations extérieures du club.",
    member7_name: "Nouhayla Elyaakoubi",
    member7_role: "Adjointe au responsable RH",
    member7_bio: "Étudiante en deuxième année de licence en génie électrique et énergies renouvelables.",
    member6_name: "Kouthar Amousi",
    member6_role: "Responsable des réseaux sociaux",
    member6_bio: "Étudiant en deuxième année de licence en génie électrique et énergies renouvelables.",
    member5_name: "Taoufiq El Boutaibi",
    member5_role: "Responsable RH",
    member5_bio: "Étudiant en troisième année de licence en génie électrique et énergies renouvelables.",
    member8_name: "Mohammed Bouhdifi",
    member8_role: "Assistant communication digitale",
    member8_bio: "Étudiant en troisième année de licence en génie électrique et énergies renouvelables.",
    activities_title: "Nos Activités",
    activity1_title: "Ateliers Pratiques",
    activity1_desc: "Des séances de travaux pratiques hebdomadaires sur diverses thématiques : optique, électronique, mécanique quantique, et plus encore.",
    activity1_when: "La date sera déterminée plus tard",
    activity2_title: "Conférences",
    activity2_desc: "Conférences mensuelles animées par des experts du domaine, abordant les dernières avancées en physique et technologie.",
    activity2_when: "La date sera déterminée plus tard",
    activity4_title: "Projets de Recherche",
    activity4_desc: "Développement de projets de recherche collaboratifs entre étudiants et encadrement par des professeurs.",
    activity4_when: "La date sera déterminée plus tard",
    contact_title: "Contactez-nous",
    address_title: "Adresse",
    address_text: "Faculté des Sciences Appliquées Nador<br>Université Mohammed Premier Oujda<br>Nador, Maroc",
    email_title: "Email",
    phone_title: "Téléphone",
    phone_hours: "Lun-Ven: 9h-17h",
    login_title: "Connexion",
    email_label: "Email:",
    password_label: "Mot de passe:",
    login_submit: "Se connecter",
    not_member: "Pas encore membre?",
    create_account: "Créer un compte",
    signup_title: "Créer un compte",
    firstname_label: "Prénom:",
    lastname_label: "Nom:",
    apogee_label: "Numéro d'Apogée:",
    cycle_label: "Cycle d'étude:",
    select_cycle: "Sélectionnez votre cycle",
    licence_option: "Licence",
    master_option: "Master",
    specialization_label: "Spécialisation:",
    signup_submit: "Créer le compte",
    already_member: "Déjà membre?",
    login_link: "Se connecter",
    success_title: "Inscription réussie !",
    success_message: "Votre inscription a été enregistrée avec succès. Merci !"
  },
  en: {
    nav_home: "Home",
    nav_about: "About",
    nav_team: "Team",
    nav_activities: "Activities",
    nav_contact: "Contact",
    login_btn: "Login",
    hero_title: "Welcome to Physique Tech Club",
    hero_description: "Join an elite of visionary minds in a scientific space where passion for physics and technology embraces the spirit of research and discovery in an exceptional academic environment.",
    hero_cta: "Discover our club",
    about_title: "About Us",
    mission_title: "Our Mission",
    mission_text: "Encourage scientific curiosity and active exploration in physics and technology through hands-on workshops, enriching lectures, and innovative collaborative projects.",
    vision_title: "Our Vision",
    vision_text: "Make the club a center of excellence and innovation where every physics and technology enthusiast can grow, learn, and contribute to the scientific community.",
    values_title: "Our Values",
    values_text: "Commitment, creativity, teamwork, scientific rigor, and knowledge sharing are the foundations that define our identity and guide each of our actions.",
    team_title: "Our Team",
    member1_name: "Dr. Majid Rochdi",
    member1_role: "President",
    member1_bio: "PhD in Quantum Physics, passionate about nanotechnology research and scientific teaching.",
    member2_name: "Jalal El Yandouzi",
    member2_role: "Vice-President",
    member2_bio: "Electrical and renewable energy engineering student. He contributes to organizing club activities, coordinates the team, and supports the presidency's missions.",
    member3_name: "Mohammed El Yaaoti",
    member3_role: "General Secretary",
    member3_bio: "Electrical and renewable energy engineering student. Responsible for the club's administrative management, ensuring smooth internal coordination.",
    member4_name: "Khadija El Abbadi",
    member4_role: "Communication Manager",
    member4_bio: "Electrical and renewable energy engineering student. Manages communication and external relations for the club.",
    member7_name: "Nouhayla Elyaakoubi",
    member7_role: "HR Assistant",
    member7_bio: "Second-year electrical and renewable energy engineering student.",
    member6_name: "Kouthar Amousi",
    member6_role: "Social Media Manager",
    member6_bio: "Second-year electrical and renewable energy engineering student.",
    member5_name: "Taoufiq El Boutaibi",
    member5_role: "HR Manager",
    member5_bio: "Third-year electrical and renewable energy engineering student.",
    member8_name: "Mohammed Bouhdifi",
    member8_role: "Digital Communication Assistant",
    member8_bio: "Third-year electrical and renewable energy engineering student.",
    activities_title: "Our Activities",
    activity1_title: "Practical Workshops",
    activity1_desc: "Weekly hands-on sessions on various topics: optics, electronics, quantum mechanics, and more.",
    activity1_when: "The date will be announced later",
    activity2_title: "Lectures",
    activity2_desc: "Monthly lectures by field experts covering the latest advances in physics and technology.",
    activity2_when: "The date will be announced later",
    activity4_title: "Research Projects",
    activity4_desc: "Development of collaborative research projects between students with professor supervision.",
    activity4_when: "The date will be announced later",
    contact_title: "Contact Us",
    address_title: "Address",
    address_text: "Faculty of Applied Sciences Nador<br>Mohammed Premier University Oujda<br>Nador, Morocco",
    email_title: "Email",
    phone_title: "Phone",
    phone_hours: "Mon-Fri: 9AM-5PM",
    login_title: "Login",
    email_label: "Email:",
    password_label: "Password:",
    login_submit: "Login",
    not_member: "Not a member yet?",
    create_account: "Create an account",
    signup_title: "Create Account",
    firstname_label: "First Name:",
    lastname_label: "Last Name:",
    apogee_label: "Apogee Number:",
    cycle_label: "Study Cycle:",
    select_cycle: "Select your cycle",
    licence_option: "Bachelor",
    master_option: "Master",
    specialization_label: "Specialization:",
    signup_submit: "Create Account",
    already_member: "Already a member?",
    login_link: "Login",
    success_title: "Registration Successful!",
    success_message: "Your registration has been successfully recorded. Thnaks!"
  },
  ar: {
    nav_home: "الرئيسية",
    nav_about: "من نحن",
    nav_team: "الفريق",
    nav_activities: "الأنشطة",
    nav_contact: "اتصل بنا",
    login_btn: "تسجيل الدخول",
    hero_title: "مرحبًا بكم في نادي فيزيك تيك",
    hero_description: "انضم إلى نخبة من العقول الرؤيوية في مساحة علمية حيث الشغف بالفيزياء والتكنولوجيا يلتقي بروح البحث والاكتشاف في بيئة أكاديمية استثنائية.",
    hero_cta: "اكتشف نادينا",
    about_title: "من نحن",
    mission_title: "مهمتنا",
    mission_text: "تشجيع الفضول العلمي والاستكشاف النشط في مجالات الفيزياء والتكنولوجيا من خلال ورش عمل عملية ومحاضرات ثرية ومشاريع تعاونية مبتكرة.",
    vision_title: "رؤيتنا",
    vision_text: "جعل النادي مركزًا للتميز والابتكار حيث يمكن لكل عاشق للفيزياء والتكنولوجيا أن ينمو ويتعلم ويساهم في المجتمع العلمي.",
    values_title: "قيمنا",
    values_text: "الالتزام، الإبداع، العمل الجماعي، الدقة العلمية، ومشاركة المعرفة هي الأسس التي تحدد هويتنا وتوجه كل أعمالنا.",
    team_title: "فريقنا",
    member1_name: "د. مجيد الرشدي",
    member1_role: "الرئيس",
    member1_bio: "دكتور في الفيزياء الكمية، شغوف بالبحث في النانوتكنولوجيا والتعليم العلمي.",
    member2_name: "جلال الياندوزي",
    member2_role: "نائب الرئيس",
    member2_bio: "طالب في الهندسة الكهربائية والطاقات المتجددة. يساهم في تنظيم أنشطة النادي، تنسيق الفريق ودعم مهام الرئاسة.",
    member3_name: "محمد اليعوتي",
    member3_role: "الأمين العام",
    member3_bio: "طالب في الهندسة الكهربائية والطاقات المتجددة. مسؤول عن الإدارة الإدارية للنادي، ضمان التنسيق الداخلي السلس.",
    member4_name: "خديجة العبادي",
    member4_role: "مسؤولة التواصل",
    member4_bio: "طالبة في الهندسة الكهربائية والطاقات المتجددة. تدير التواصل والعلاقات الخارجية للنادي.",
    member5_name: "توفيق البوطيبي",
    member5_role: "مسؤول الموارد البشرية",
    member5_bio: "طالب في السنة الثالثة من الإجازة في الهندسة الكهربائية والطاقات المتجددة.",
    member6_name: "كوثر آموسي",
    member6_role: "مسؤولة الشبكات الاجتماعية",
    member6_bio: "طالب في السنة الثانية من الإجازة في الهندسة الكهربائية والطاقات المتجددة.",
    member7_name: "نهيلة اليعقوبي",
    member7_role: "مساعدة مسؤول الموارد البشرية",
    member7_bio: "طالبة في السنة الثانية من الإجازة في الهندسة الكهربائية والطاقات المتجددة.",
    member8_name: "محمد بوحديفي",
    member8_role: "مساعد التواصل الرقمي",
    member8_bio: "طالب في السنة الثالثة من الإجازة في الهندسة الكهربائية والطاقات المتجددة.",
    activities_title: "أنشطتنا",
    activity1_title: "ورش عمل عملية",
    activity1_desc: "جلسات عملية أسبوعية حول مواضيع متنوعة: البصريات، الإلكترونيات، ميكانيكا الكم، والمزيد.",
    activity1_when: "سيُحدَّد الموعد لاحقًا",
    activity2_title: "محاضرات",
    activity2_desc: "محاضرات شهرية يقدمها خبراء في المجال حول أحدث التطورات في الفيزياء والتكنولوجيا.",
    activity2_when: "سيُحدَّد الموعد لاحقًا",
    activity4_title: "مشاريع بحثية",
    activity4_desc: "تطوير مشاريع بحثية تعاونية بين الطلاب تحت إشراف الأساتذة.",
    activity4_when: "سيُحدَّد الموعد لاحقًا",
    contact_title: "اتصل بنا",
    address_title: "العنوان",
    address_text: "كلية العلوم التطبيقية الناظور<br>جامعة محمد الأول وجدة<br>الناظور، المغرب",
    email_title: "البريد الإلكتروني",
    phone_title: "الهاتف",
    phone_hours: "الإثنين-الجمعة: 9 صباحًا - 5 مساءً",
    login_title: "تسجيل الدخول",
    email_label: "البريد الإلكتروني:",
    password_label: "كلمة المرور:",
    login_submit: "تسجيل الدخول",
    not_member: "لست عضوًا بعد؟",
    create_account: "إنشاء حساب",
    signup_title: "إنشاء حساب",
    firstname_label: "الاسم الأول:",
    lastname_label: "الاسم الأخير:",
    apogee_label: "رقم الأبو جي:",
    cycle_label: "دورة الدراسة:",
    select_cycle: "اختر دورتك",
    licence_option: "الإجازة",
    master_option: "الماجستير",
    specialization_label: "التخصص:",
    signup_submit: "إنشاء الحساب",
    already_member: "عضوية بالفعل؟",
    login_link: "تسجيل الدخول",
    success_title: "تم التسجيل بنجاح!",
    success_message: "تم تسجيلك بنجاح. شكرًا !"
  }
};

let currentLanguage = 'fr';

//==================================
// Fonction pour gérer la connexion
//==================================

function handleLogin(event) {
    event.preventDefault();
    console.log("handleLogin exécutée");

    const formData = new FormData(event.target);
    const email = formData.get('email');
    const password = formData.get('password');

    const validUsers = [
        { email: 'jalalelyandouzi2@gmail.com', password: 'Elynd@12' },
        { email: 'ahmed.benali@gmail.com', password: 'Physics2024!' },
        { email: 'fatima.zahra@gmail.com', password: 'TechClub@23' },
        { email: 'omar.taha@gmail.com', password: 'Science@456' }
    ];

    const user = validUsers.find(u => u.email === email && u.password === password);

    if (user) {
        // Connexion réussie
        closeModal();
        showLoginSuccess();
    } else {
        // Erreur de connexion - fermer le modal de connexion et afficher l'erreur
        document.getElementById('loginModal').style.display = 'none';
        showLoginError();
    }
}

//==============================================
// Fonction pour afficher le succès de connexion
//==============================================

function showLoginSuccess() {
    document.getElementById('loginSuccessModal').style.display = 'block';
    
    // Redirection vers Facebook après 3 secondes
    setTimeout(() => {
        window.location.href = 'https://facebook.com';
    }, 3000);
}

//=============================================
// Fonction pour afficher l'erreur de connexion
//=============================================

function showLoginError() {
    document.getElementById('loginErrorModal').style.display = 'block';
}

//=============================================
// Fonction pour toggle menu
//=============================================
document.addEventListener("DOMContentLoaded", () => {
    const menuToggle = document.getElementById("menu-toggle");
    const navLinks = document.getElementById("nav-links");

    // فتح/إغلاق القائمة عند الضغط على زر menu
    menuToggle.addEventListener("click", (event) => {
        navLinks.classList.toggle("active");
        menuToggle.classList.toggle("active");
    });

    // إغلاق القائمة عند الضغط في أي مكان خارجها
    document.addEventListener("click", (event) => {
        if (navLinks.classList.contains("active") && !navLinks.contains(event.target) && !menuToggle.contains(event.target)) {
            navLinks.classList.remove("active");
            menuToggle.classList.remove("active");
        }
    });

    // إغلاق القائمة عند الضغط على أحد الروابط داخلها
    document.querySelectorAll("#nav-links a").forEach(link => {
        link.addEventListener("click", () => {
            navLinks.classList.remove("active");
            menuToggle.classList.remove("active");
        });
    });
});

//=============================================
// Fonction pour réessayer la connexion
//=============================================

function retryLogin() {
    // Fermer le modal d'erreur
    document.getElementById('loginErrorModal').style.display = 'none';
    
    // Rouvrir le modal de connexion
    document.getElementById('loginModal').style.display = 'block';
    
    // Optionnel : vider les champs du formulaire
    document.getElementById('email').value = '';
    document.getElementById('password').value = '';
    
    // Optionnel : mettre le focus sur le champ email
    document.getElementById('email').focus();
}

// Fonction pour ouvrir le modal
function openModal() {
    document.getElementById('loginModal').style.display = 'block';
}

function closeModal() {
    // Fermer tous les modals
    const modals = document.querySelectorAll('.modal');
    modals.forEach(modal => {
        modal.style.display = 'none';
    });
}

// Fonction pour afficher le modal d'inscription
function showSignupModal() {
    closeModal();
    document.getElementById('signupModal').style.display = 'block';
}

// Fonction pour afficher le modal de connexion
function showLoginModal() {
    closeModal();
    document.getElementById('loginModal').style.display = 'block';
}

// Fonction pour gérer les spécialisations
function toggleSpecialization() {
    const cycle = document.getElementById('cycle').value;
    const licenceOptions = document.getElementById('licenceOptions');
    
    if (cycle === 'licence') {
        licenceOptions.style.display = 'block';
        // Rendre la spécialisation obligatoire pour licence
        const radioButtons = licenceOptions.querySelectorAll('input[type="radio"]');
        radioButtons.forEach(radio => {
            radio.required = true;
        });
    } else {
        licenceOptions.style.display = 'none';
        // Retirer l'obligation pour les autres cycles
        const radioButtons = licenceOptions.querySelectorAll('input[type="radio"]');
        radioButtons.forEach(radio => {
            radio.required = false;
            radio.checked = false;
        });
    }
}

// ================================
// FONCTIONS DE NAVIGATION
// ================================

function showSection(sectionName) {
    // Masquer toutes les sections
    const sections = document.querySelectorAll('.section');
    sections.forEach(section => {
        section.classList.remove('active');
    });
    
    // Masquer la section hero si on navigue vers une autre section
    const hero = document.getElementById('home');
    if (sectionName !== 'home') {
        hero.style.display = 'none';
    } else {
        hero.style.display = 'block';
    }
    
    // Afficher la section demandée
    if (sectionName !== 'home') {
        const targetSection = document.getElementById(sectionName);
        if (targetSection) {
            targetSection.classList.add('active');
        }
    }
    
    // Fermer les modals si ouverts
    closeModal();
}


const navLinks = document.querySelectorAll('.nav-links a');

navLinks.forEach(link => {
    link.addEventListener('click', function() {
        // إزالة الكلاس من كل الروابط
        navLinks.forEach(l => l.classList.remove('active'));
        // إضافة الكلاس للرابط الذي تم الضغط عليه
        this.classList.add('active');
    });
});


// ================================
// FONCTIONS DE TRADUCTION
// ================================

function changeLanguage(lang) {
    currentLanguage = lang;
    
    // Mettre à jour les boutons de langue
    const langBtns = document.querySelectorAll('.lang-btn');
    langBtns.forEach(btn => {
        btn.classList.remove('active');
    });
    event.target.classList.add('active');
    
    // Appliquer les traductions
    const elementsToTranslate = document.querySelectorAll('[data-translate]');
    elementsToTranslate.forEach(element => {
        const key = element.getAttribute('data-translate');
        if (translations[lang] && translations[lang][key]) {
            if (element.innerHTML.includes('<br>')) {
                element.innerHTML = translations[lang][key];
            } else {
                element.textContent = translations[lang][key];
            }
        }
    });
}

// ================================
// FONCTIONS MODALS SUPPLÉMENTAIRES
// ================================

function showSuccessModal() {
    document.getElementById('signupModal').style.display = 'none';
    document.getElementById('loginModal').style.display = 'none';
    document.getElementById('successModal').style.display = 'block';
}

// ================================
// GESTION DES FORMULAIRES
// ================================

function handleSignup(event) {
    event.preventDefault();
    
    const submitButton = event.target.querySelector('.form-submit');
    const originalText = submitButton.textContent;
    
    // Désactiver le bouton et afficher le loading
    submitButton.disabled = true;
    submitButton.classList.add('loading');
    
    const formData = new FormData(event.target);
    const userData = {
        firstName: formData.get('firstName'),
        lastName: formData.get('lastName'),
        apogeeNumber: formData.get('apogeeNumber'),
        email: formData.get('email'),
        password: formData.get('password'),
        cycle: formData.get('cycle'),
        specialization: formData.get('specialization')
    };
    
    // Validation des données
    if (!userData.firstName || !userData.lastName || !userData.email || !userData.password) {
        alert('Veuillez remplir tous les champs obligatoires');
        submitButton.disabled = false;
        submitButton.classList.remove('loading');
        return;
    }
    
    if (userData.cycle === 'licence' && !userData.specialization) {
        alert('Veuillez sélectionner une spécialisation pour le cycle Licence');
        submitButton.disabled = false;
        submitButton.classList.remove('loading');
        return;
    }
    
    // Simuler l'envoi des données
    setTimeout(function() {
        console.log('Données d\'inscription:', userData);
        
        // Réactiver le bouton
        submitButton.disabled = false;
        submitButton.classList.remove('loading');
        
        // Afficher le modal de succès
        showSuccessModal();
        
        // Rediriger vers la page "À propos" après 3 secondes
        setTimeout(function() {
            closeModal();
            showSection('about');
        }, 3000);
        
    }, 2000); // Simulation d'un délai d'envoi
}

// ================================
// ÉVÉNEMENTS
// ================================

// Fermer les modals en cliquant à l'extérieur
window.onclick = function(event) {
    const loginModal = document.getElementById('loginModal');
    const signupModal = document.getElementById('signupModal');
    const successModal = document.getElementById('successModal');
    const loginSuccessModal = document.getElementById('loginSuccessModal');
    const loginErrorModal = document.getElementById('loginErrorModal');
    
    if (event.target === loginModal) {
        loginModal.style.display = 'none';
    }
    if (event.target === signupModal) {
        signupModal.style.display = 'none';
    }
    if (event.target === successModal) {
        successModal.style.display = 'none';
    }
    if (event.target === loginSuccessModal) {
        loginSuccessModal.style.display = 'none';
    }
    if (event.target === loginErrorModal) {
        loginErrorModal.style.display = 'none';
    }
}

// Fermer les modals avec la touche Échap
document.addEventListener('keydown', function(event) {
    if (event.key === 'Escape') {
        closeModal();
    }
});

// ================================
// INITIALISATION
// ================================

document.addEventListener('DOMContentLoaded', function() {
    // Afficher la section d'accueil par défaut
    showSection('home');
    
    // Appliquer la traduction française par défaut
    changeLanguage('fr');
    
    console.log('Site Physique Tech initialisé avec succès!');
});

// Fonction pour ouvrir la modal de connexion
function openModal() {
    document.getElementById('loginModal').style.display = 'flex';
}

// Fonction pour fermer toutes les modals
function closeModal() {
    document.getElementById('loginModal').style.display = 'none';
    document.getElementById('signupModal').style.display = 'none';
    document.getElementById('successModal').style.display = 'none';
    document.getElementById('loginSuccessModal').style.display = 'none';
    document.getElementById('loginErrorModal').style.display = 'none';
}

// Fonction pour afficher la modal d'inscription
function showSignupModal() {
    document.getElementById('loginModal').style.display = 'none';
    document.getElementById('signupModal').style.display = 'flex';
}

// Fonction pour afficher la modal de connexion
function showLoginModal() {
    document.getElementById('signupModal').style.display = 'none';
    document.getElementById('loginModal').style.display = 'flex';
}

// Fonction pour basculer les options de spécialisation
function toggleSpecialization() {
    const cycle = document.getElementById('cycle').value;
    const licenceOptions = document.getElementById('licenceOptions');
    
    if (cycle === 'licence') {
        licenceOptions.style.display = 'block';
        // Rendre les boutons radio requis si licence est sélectionnée
        const radioButtons = licenceOptions.querySelectorAll('input[type="radio"]');
        radioButtons.forEach(radio => radio.required = true);
    } else {
        licenceOptions.style.display = 'none';
        // Retirer l'exigence et décocher les boutons radio
        const radioButtons = licenceOptions.querySelectorAll('input[type="radio"]');
        radioButtons.forEach(radio => {
            radio.required = false;
            radio.checked = false;
        });
    }
}

// Gestion de la soumission du formulaire d'inscription
document.addEventListener('DOMContentLoaded', function() {
    const signupForm = document.getElementById('signupForm');
    
    if (signupForm) {
        signupForm.addEventListener('submit', function(e) {
            // Vérifier si une spécialisation est sélectionnée pour licence
            const cycle = document.getElementById('cycle').value;
            if (cycle === 'licence') {
                const specialisation = document.querySelector('input[name="Spécialisation"]:checked');
                if (!specialisation) {
                    e.preventDefault();
                    alert('Veuillez sélectionner une spécialisation pour le cycle Licence.');
                    return;
                }
            }
            
            // Fermer la modal d'inscription avant la soumission
            document.getElementById('signupModal').style.display = 'none';
            
            // Afficher la modal de succès
            document.getElementById('successModal').style.display = 'flex';
            
            // Optionnel : redirection après 3 secondes
            setTimeout(function() {
                // Le formulaire sera soumis automatiquement grâce à FormSubmit
                // La redirection se fera via le champ _next de FormSubmit
            }, 3000);
        });
    }
});

// Fonction pour réessayer la connexion
function retryLogin() {
    document.getElementById('loginErrorModal').style.display = 'none';
    document.getElementById('loginModal').style.display = 'flex';
}

// Fermer les modals en cliquant à l'extérieur
window.onclick = function(event) {
    const modals = ['loginModal', 'signupModal', 'successModal', 'loginSuccessModal', 'loginErrorModal'];
    modals.forEach(modalId => {
        const modal = document.getElementById(modalId);
        if (event.target === modal) {
            modal.style.display = 'none';
        }
    });
}

// Fonctions de navigation (si vous en avez besoin)
function showSection(sectionId) {
    // Masquer toutes les sections
    const sections = document.querySelectorAll('.section, .hero');
    sections.forEach(section => {
        section.style.display = 'none';
    });
    
    // Afficher la section demandée
    const targetSection = document.getElementById(sectionId);
    if (targetSection) {
        targetSection.style.display = 'block';
    }
}

// Initialiser l'affichage de la page d'accueil
document.addEventListener('DOMContentLoaded', function() {
    showSection('home');
});